<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRIS - Live Visuals Controller</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <div class="app-container">
        <header class="top-bar">
            <div class="logo">IRIS <span class="version">v2.0</span></div>
            <div class="system-status">
                <div class="status-item" id="audio-status" title="Click to Enable Audio">
                    <i class="fa-solid fa-microphone"></i> <span class="status-text">OFF</span>
                </div>
                <div class="status-item" id="midi-status">
                    <i class="fa-solid fa-gamepad"></i> <span class="status-text">NO MIDI</span>
                </div>
            </div>
            <div class="status-bar">
                <span id="clock">00:00:00</span>
                <button id="fullscreen-btn" class="icon-btn"><i class="fa-solid fa-expand"></i></button>
            </div>
        </header>

        <main class="main-interface">
            <!-- DECK A -->
            <section class="deck" id="deck-a">
                <div class="deck-header">
                    <h2>DECK A</h2>
                    <div class="deck-controls-top">
                        <button class="source-btn active" data-target="deck-a" data-type="video">VIDEO</button>
                        <!-- Camera removed -->
                    </div>
                </div>

                <div class="preview-window">
                    <video id="video-a" loop muted playsinline></video>
                    <div class="overlay-info">A</div>
                    <div class="audio-reactive-indicator hidden"><i class="fa-solid fa-bolt"></i></div>
                </div>

                <div class="playback-controls">
                    <button class="play-btn" id="play-a"><i class="fa-solid fa-play"></i></button>
                    <button class="stop-btn" id="stop-a"><i class="fa-solid fa-stop"></i></button>
                    <input type="range" class="speed-slider" id="speed-a" min="0.5" max="2" step="0.1" value="1">
                </div>

                <div class="fx-panel">
                    <h3>EFECTOS</h3>
                    <div class="fx-grid">
                        <div class="fx-control">
                            <label>Hue</label>
                            <input type="range" id="hue-a" min="0" max="360" value="0">
                        </div>
                        <div class="fx-control">
                            <label>Contrast</label>
                            <input type="range" id="contrast-a" min="50" max="200" value="100">
                        </div>
                        <div class="fx-control">
                            <label>Pixelate</label>
                            <input type="range" id="pixel-a" min="1" max="50" value="1">
                        </div>
                    </div>
                    <div class="fx-toggles">
                        <button class="toggle-btn" id="react-a" title="Audio Reactive Scale">
                            <i class="fa-solid fa-music"></i> REACT
                        </button>
                        <div class="color-picker-container">
                            <label>Tint</label>
                            <input type="color" id="tint-a" value="#ffffff">
                        </div>
                    </div>
                </div>

                <div class="bank-grid" id="bank-a">
                    <!-- Bank items will be generated by JS -->
                </div>
                <input type="file" id="file-input-a" accept="video/*" style="display: none;">
                <button class="load-btn" onclick="document.getElementById('file-input-a').click()">LOAD FILE</button>
            </section>

            <!-- MIXER / MASTER -->
            <section class="mixer">
                <div class="master-preview">
                    <canvas id="master-canvas"></canvas>
                    <div class="live-indicator">LIVE</div>
                    <div class="audio-visualizer">
                        <div class="bar" id="audio-bar-1"></div>
                        <div class="bar" id="audio-bar-2"></div>
                        <div class="bar" id="audio-bar-3"></div>
                    </div>
                </div>

                <div class="crossfader-container">
                    <span class="label-a">A</span>
                    <input type="range" id="crossfader" min="0" max="100" value="50">
                    <span class="label-b">B</span>
                </div>

                <div class="master-controls">
                    <div class="fader-group">
                        <label>Master</label>
                        <input type="range" id="master-opacity" min="0" max="100" value="100" orient="vertical">
                    </div>
                    <div class="global-fx">
                        <button id="cam-btn" class="toggle-fx-btn">CAM INPUT</button>
                        <button id="strobe-btn" class="momentary-btn">STROBE</button>
                        <button id="noise-btn" class="momentary-btn">NOISE</button>
                        <button id="glitch-btn" class="momentary-btn">GLITCH</button>
                        <button id="kaleido-btn" class="toggle-fx-btn">KALEIDO</button>
                        <button id="blackout-btn" class="momentary-btn">BLACKOUT</button>
                    </div>
                </div>
            </section>

            <!-- DECK B -->
            <section class="deck" id="deck-b">
                <div class="deck-header">
                    <h2>DECK B</h2>
                    <div class="deck-controls-top">
                        <button class="source-btn active" data-target="deck-b" data-type="video">VIDEO</button>
                        <!-- Camera removed -->
                    </div>
                </div>

                <div class="preview-window">
                    <video id="video-b" loop muted playsinline></video>
                    <div class="overlay-info">B</div>
                    <div class="audio-reactive-indicator hidden"><i class="fa-solid fa-bolt"></i></div>
                </div>

                <div class="playback-controls">
                    <button class="play-btn" id="play-b"><i class="fa-solid fa-play"></i></button>
                    <button class="stop-btn" id="stop-b"><i class="fa-solid fa-stop"></i></button>
                    <input type="range" class="speed-slider" id="speed-b" min="0.5" max="2" step="0.1" value="1">
                </div>

                <div class="fx-panel">
                    <h3>EFECTOS</h3>
                    <div class="fx-grid">
                        <div class="fx-control">
                            <label>Hue</label>
                            <input type="range" id="hue-b" min="0" max="360" value="0">
                        </div>
                        <div class="fx-control">
                            <label>Contrast</label>
                            <input type="range" id="contrast-b" min="50" max="200" value="100">
                        </div>
                        <div class="fx-control">
                            <label>Pixelate</label>
                            <input type="range" id="pixel-b" min="1" max="50" value="1">
                        </div>
                    </div>
                    <div class="fx-toggles">
                        <button class="toggle-btn" id="react-b" title="Audio Reactive Scale">
                            <i class="fa-solid fa-music"></i> REACT
                        </button>
                        <div class="color-picker-container">
                            <label>Tint</label>
                            <input type="color" id="tint-b" value="#ffffff">
                        </div>
                    </div>
                </div>

                <div class="bank-grid" id="bank-b">
                    <!-- Bank items will be generated by JS -->
                </div>
                <input type="file" id="file-input-b" accept="video/*" style="display: none;">
                <button class="load-btn" onclick="document.getElementById('file-input-b').click()">LOAD FILE</button>
            </section>
        </main>
    </div>
    <script src="script.js"></script>
</body>

</html>